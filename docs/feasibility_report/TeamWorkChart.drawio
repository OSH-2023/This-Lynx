<mxfile host="65bd71144e">
    <diagram id="VPYbClGaq1rwtpESJp_I" name="顶层架构">
        <mxGraphModel dx="1309" dy="2389" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" background="#FFFFFF" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="10" value="" style="swimlane;startSize=0;fontSize=30;" parent="1" vertex="1">
                    <mxGeometry x="770" y="-1040" width="766" height="340" as="geometry">
                        <mxRectangle x="770" y="-1040" width="50" height="40" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="11" value="&lt;h1&gt;Spark-Core&lt;/h1&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60a917;strokeColor=#2D7600;fontColor=#ffffff;" parent="10" vertex="1">
                    <mxGeometry x="26" y="20" width="700" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="12" value="&lt;h3&gt;SparkStreaming&lt;/h3&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60a917;strokeColor=#2D7600;fontColor=#ffffff;" parent="10" vertex="1">
                    <mxGeometry x="10" y="180" width="170" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="agBRjemUDmdfU3HaIsgF-15" value="&lt;h3&gt;SparkMLlib&lt;/h3&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="10" vertex="1">
                    <mxGeometry x="200" y="180" width="170" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="agBRjemUDmdfU3HaIsgF-16" value="&lt;h3&gt;SparkSQL&lt;/h3&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="10" vertex="1">
                    <mxGeometry x="400" y="180" width="170" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="agBRjemUDmdfU3HaIsgF-17" value="&lt;h3&gt;SparkGraphX&lt;/h3&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="10" vertex="1">
                    <mxGeometry x="593" y="180" width="170" height="100" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="-WtzubNgeALAvP8PtxZq" name="SparkStreaming">
        <mxGraphModel dx="1259" dy="735" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" background="#ffffff" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="-fQSwmSKmjPJqDX0hy-T" name="Schedular">
        <mxGraphModel dx="1259" dy="735" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="VhBmEGAI-f2w_jUyI4F-" name="MapReduce">
        <mxGraphModel dx="353" dy="1482" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="i3Mja7FqGma_RA5WfzkV-1" value="SortShuffleWriter" style="swimlane;labelBackgroundColor=#18141D;separatorColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="20" y="-790" width="690" height="300" as="geometry"/>
                </mxCell>
                <mxCell id="i3Mja7FqGma_RA5WfzkV-2" value="成员变量" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;html=1;" parent="i3Mja7FqGma_RA5WfzkV-1" vertex="1">
                    <mxGeometry x="45" y="70" width="115" height="194" as="geometry"/>
                </mxCell>
                <mxCell id="i3Mja7FqGma_RA5WfzkV-3" value="dep" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="i3Mja7FqGma_RA5WfzkV-2" vertex="1">
                    <mxGeometry y="26" width="115" height="26" as="geometry"/>
                </mxCell>
                <mxCell id="i3Mja7FqGma_RA5WfzkV-4" value="blockManager" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="i3Mja7FqGma_RA5WfzkV-2" vertex="1">
                    <mxGeometry y="52" width="115" height="26" as="geometry"/>
                </mxCell>
                <mxCell id="i3Mja7FqGma_RA5WfzkV-5" value="ExternalSorter" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="i3Mja7FqGma_RA5WfzkV-2" vertex="1">
                    <mxGeometry y="78" width="115" height="26" as="geometry"/>
                </mxCell>
                <mxCell id="nUJk3h8JUYx3D1lUxznx-19" value="Stopping" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="i3Mja7FqGma_RA5WfzkV-2" vertex="1">
                    <mxGeometry y="104" width="115" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="nUJk3h8JUYx3D1lUxznx-20" value="MapStatus" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="i3Mja7FqGma_RA5WfzkV-2" vertex="1">
                    <mxGeometry y="134" width="115" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="nUJk3h8JUYx3D1lUxznx-21" value="writeMetrics" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="i3Mja7FqGma_RA5WfzkV-2" vertex="1">
                    <mxGeometry y="164" width="115" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="nUJk3h8JUYx3D1lUxznx-25" value="&lt;div style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;stop(Boolean):Opetion[MapStatus]&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontColor=default;align=center;backgroundOutline=0;editable=1;movable=1;resizable=1;rotatable=1;deletable=1;connectable=1;labelBackgroundColor=default;" parent="i3Mja7FqGma_RA5WfzkV-1" vertex="1">
                    <mxGeometry x="180" y="130" width="495" height="45" as="geometry"/>
                </mxCell>
                <mxCell id="nUJk3h8JUYx3D1lUxznx-26" value="&lt;div style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;write(Iterator[Product2[KV]])&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;" parent="i3Mja7FqGma_RA5WfzkV-1" vertex="1">
                    <mxGeometry x="180" y="70" width="495" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-1" value="&lt;div style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;getPartitionLengths():Array[Long]&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontColor=default;align=center;backgroundOutline=0;editable=1;movable=1;resizable=1;rotatable=1;deletable=1;connectable=1;labelBackgroundColor=default;" vertex="1" parent="i3Mja7FqGma_RA5WfzkV-1">
                    <mxGeometry x="180" y="190" width="495" height="45" as="geometry"/>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-4" value="&lt;div style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;shouldBypassMergeSort(SparkConf,ShuffleDependency)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontColor=default;align=center;backgroundOutline=0;editable=1;movable=1;resizable=1;rotatable=1;deletable=1;connectable=1;labelBackgroundColor=default;" vertex="1" parent="i3Mja7FqGma_RA5WfzkV-1">
                    <mxGeometry x="180" y="242.5" width="495" height="45" as="geometry"/>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-16" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="wg3rbCRLMpkX7AuymAAB-5">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="450" y="-270" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-17" style="edgeStyle=none;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="wg3rbCRLMpkX7AuymAAB-5" target="wg3rbCRLMpkX7AuymAAB-14">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-22" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="wg3rbCRLMpkX7AuymAAB-5" target="wg3rbCRLMpkX7AuymAAB-21">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-5" value="&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;buffers" style="rounded=1;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
                    <mxGeometry x="80" y="-420" width="290" height="170" as="geometry"/>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-6" value="not" style="shape=flexArrow;endArrow=classic;html=1;entryX=0;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" target="wg3rbCRLMpkX7AuymAAB-5">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="30" y="-190" as="sourcePoint"/>
                        <mxPoint x="100" y="-350" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-7" value="byKey" style="shape=flexArrow;endArrow=classic;html=1;width=13.333333333333332;endSize=4.942857142857143;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" target="wg3rbCRLMpkX7AuymAAB-5">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="30" y="-450" as="sourcePoint"/>
                        <mxPoint x="90" y="-430" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-10" value="Sort&lt;br&gt;1.by partitionID&lt;br&gt;2.by key" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
                    <mxGeometry x="165" y="-365" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-23" style="edgeStyle=none;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;" edge="1" parent="1" source="wg3rbCRLMpkX7AuymAAB-11">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="449.608695652174" y="-375.0434782608695" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-11" value="File" style="swimlane;childLayout=stackLayout;resizeParent=1;resizeParentMax=0;horizontal=1;startSize=20;horizontalStack=0;html=1;" vertex="1" parent="1">
                    <mxGeometry x="450" y="-470" width="290" height="380" as="geometry"/>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-12" value="ID1" style="swimlane;startSize=20;horizontal=0;html=1;" vertex="1" parent="wg3rbCRLMpkX7AuymAAB-11">
                    <mxGeometry y="20" width="290" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-18" value="Buffer1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="wg3rbCRLMpkX7AuymAAB-12">
                    <mxGeometry x="30" y="7" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-13" value="ID2" style="swimlane;startSize=20;horizontal=0;html=1;" vertex="1" parent="wg3rbCRLMpkX7AuymAAB-11">
                    <mxGeometry y="140" width="290" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-19" value="Buffer2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="wg3rbCRLMpkX7AuymAAB-13">
                    <mxGeometry x="30" y="10" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-14" value="ID3" style="swimlane;startSize=20;horizontal=0;html=1;" vertex="1" parent="wg3rbCRLMpkX7AuymAAB-11">
                    <mxGeometry y="260" width="290" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-20" value="Buffer3" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="wg3rbCRLMpkX7AuymAAB-14">
                    <mxGeometry x="30" y="10" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-15" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="wg3rbCRLMpkX7AuymAAB-5" target="wg3rbCRLMpkX7AuymAAB-11">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="400" y="-360" as="sourcePoint"/>
                        <mxPoint x="410" y="-390" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="wg3rbCRLMpkX7AuymAAB-21" value="IndexFile" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
                    <mxGeometry x="285" y="-160" width="120" height="60" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="KNMoaATFr6m91OYntgA1" name="Shuffle">
        <mxGraphModel dx="1259" dy="735" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>